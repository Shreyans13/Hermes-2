import{j as e,c as S,a as M,b as T,r as c,d as H,e as V,f as L,h as R,i as z,k as G,C as U,P as I,S as K,B as C,X as W,L as X,g as q}from"./index-CG6EIMNu.js";import{u as Y,S as J,a as Q,b as Z,c as ee,d as w}from"./select-sKJg8f5N.js";import{I as se}from"./input-yJ5s_-NY.js";const te=M("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function re({className:s,variant:n,...a}){return e.jsx("div",{className:S(te({variant:n}),s),...a})}var P="Checkbox",[ae,ge]=T(P),[ce,oe]=ae(P),A=c.forwardRef((s,n)=>{const{__scopeCheckbox:a,name:i,checked:p,defaultChecked:o,required:f,disabled:d,value:g="on",onCheckedChange:v,form:m,...t}=s,[r,u]=c.useState(null),h=H(n,l=>u(l)),y=c.useRef(!1),E=r?m||!!r.closest("form"):!0,[b=!1,k]=V({prop:p,defaultProp:o,onChange:v}),_=c.useRef(b);return c.useEffect(()=>{const l=r==null?void 0:r.form;if(l){const j=()=>k(_.current);return l.addEventListener("reset",j),()=>l.removeEventListener("reset",j)}},[r,k]),e.jsxs(ce,{scope:a,state:b,disabled:d,children:[e.jsx(L.button,{type:"button",role:"checkbox","aria-checked":x(b)?"mixed":b,"aria-required":f,"data-state":F(b),"data-disabled":d?"":void 0,disabled:d,value:g,...t,ref:h,onKeyDown:R(s.onKeyDown,l=>{l.key==="Enter"&&l.preventDefault()}),onClick:R(s.onClick,l=>{k(j=>x(j)?!0:!j),E&&(y.current=l.isPropagationStopped(),y.current||l.stopPropagation())})}),E&&e.jsx(ne,{control:r,bubbles:!y.current,name:i,value:g,checked:b,required:f,disabled:d,form:m,style:{transform:"translateX(-100%)"},defaultChecked:x(o)?!1:o})]})});A.displayName=P;var B="CheckboxIndicator",D=c.forwardRef((s,n)=>{const{__scopeCheckbox:a,forceMount:i,...p}=s,o=oe(B,a);return e.jsx(z,{present:i||x(o.state)||o.state===!0,children:e.jsx(L.span,{"data-state":F(o.state),"data-disabled":o.disabled?"":void 0,...p,ref:n,style:{pointerEvents:"none",...s.style}})})});D.displayName=B;var ne=s=>{const{control:n,checked:a,bubbles:i=!0,defaultChecked:p,...o}=s,f=c.useRef(null),d=Y(a),g=G(n);c.useEffect(()=>{const m=f.current,t=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(t,"checked").set;if(d!==a&&u){const h=new Event("click",{bubbles:i});m.indeterminate=x(a),u.call(m,x(a)?!1:a),m.dispatchEvent(h)}},[d,a,i]);const v=c.useRef(x(a)?!1:a);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:p??v.current,...o,tabIndex:-1,ref:f,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function x(s){return s==="indeterminate"}function F(s){return x(s)?"indeterminate":s?"checked":"unchecked"}var O=A,le=D;const N=c.forwardRef(({className:s,...n},a)=>e.jsx(O,{ref:a,className:S("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...n,children:e.jsx(le,{className:S("flex items-center justify-center text-current"),children:e.jsx(U,{className:"h-4 w-4"})})}));N.displayName=O.displayName;const ie=["Electronic Devices","Computer & Laptop","Smartphone","Headphone","Mobile Accessories"],de=["Apple","Samsung","Google","Sony","LG"],me=["All Price","Under $50","$50 to $100","$100 to $200","$200 to $500","$500 to $1,000","$1,000 to $10,000"],ue=["Wireless","Bluetooth","Noise Cancelling","In-Ear","Over-Ear","Sport","Waterproof"],xe=()=>e.jsxs("div",{className:"w-full lg:w-64 space-y-6 pb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-base mb-3",children:"CATEGORY"}),e.jsx("div",{className:"space-y-2",children:ie.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{id:s,className:"rounded-full"}),e.jsx("label",{htmlFor:s,className:"text-sm cursor-pointer",children:s})]},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-base mb-3",children:"PRICE"}),e.jsx("div",{className:"space-y-2",children:me.map(s=>e.jsx("div",{className:"flex items-center justify-between text-sm",children:e.jsxs("label",{htmlFor:s,className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx(N,{id:s,className:"rounded-full"}),e.jsx("span",{children:s})]})},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-base mb-3",children:"POPULAR BRANDS"}),e.jsx("div",{className:"space-y-2",children:de.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{id:s}),e.jsx("label",{htmlFor:s,className:"text-sm cursor-pointer",children:s})]},s))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-base mb-3",children:"POPULAR TAGS"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ue.map(s=>e.jsx("button",{className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded-full",children:s},s))})]})]}),$=["Wireless","Under $50","In Stock"],be=()=>{const[s,n]=c.useState([]),[a,i]=c.useState(null),[p,o]=c.useState(!0),[f,d]=c.useState("most-popular");c.useEffect(()=>{(async()=>{o(!0);try{const r=await q("","/product/getProduct");"error_code"in r?i(r.description):"status"in r&&n(r.products)}catch(r){console.error("Product fetch error:",r),i("Failed to fetch products. Please try again later.")}finally{o(!1)}})()},[]);const g=t=>{d(t);const r=[...s];switch(t){case"price-low":r.sort((u,h)=>u.price-h.price);break;case"price-high":r.sort((u,h)=>h.price-u.price);break}n(r)},v=t=>{console.log("Removing filter:",t)},m=()=>{console.log("Clearing all filters")};return p?e.jsx("div",{className:"w-[90vw] mx-auto py-20",children:e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-5 lg:gap-6",children:[...Array(8)].map((t,r)=>e.jsx(I,{product:void 0},r))})}):a?e.jsx("div",{className:"w-[90vw] mx-auto py-20",children:e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[e.jsx("strong",{className:"font-bold",children:"Error: "}),e.jsx("span",{className:"block sm:inline",children:a})]})}):e.jsx("div",{className:"w-[90vw] mx-auto py-10 sm:py-16",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:gap-8",children:[e.jsx("div",{className:"hidden lg:block lg:min-w-64",children:e.jsx(xe,{})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"relative w-full sm:w-96",children:[e.jsx(se,{placeholder:"Search for anything...",className:"pl-10"}),e.jsx(K,{className:"absolute left-3 top-2.5 h-5 w-5 text-muted-foreground"})]}),e.jsxs(J,{defaultValue:"most-popular",onValueChange:t=>g(t),children:[e.jsx(Q,{className:"w-full sm:w-48",children:e.jsx(Z,{placeholder:"Sort by"})}),e.jsxs(ee,{children:[e.jsx(w,{value:"most-popular",children:"Most Popular"}),e.jsx(w,{value:"price-low",children:"Price: Low to High"}),e.jsx(w,{value:"price-high",children:"Price: High to Low"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm font-medium",children:"Filters:"}),$.map(t=>e.jsxs(re,{variant:"secondary",className:"text-xs",children:[t,e.jsxs(C,{variant:"ghost",size:"sm",className:"h-auto p-0 ml-2",onClick:()=>v(t),children:[e.jsx(W,{className:"h-3 w-3"}),e.jsxs("span",{className:"sr-only",children:["Remove ",t," filter"]})]})]},t)),e.jsx(C,{variant:"link",size:"sm",className:"text-xs",onClick:m,children:"Clear all filters"})]})]}),e.jsx("div",{className:"lg:hidden mb-4",children:e.jsxs(C,{variant:"outline",className:"w-full flex items-center justify-between",onClick:()=>alert("Mobile sidebar would open here"),children:[e.jsx("span",{children:"Filters"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[$.length," active"]})]})}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-5 lg:gap-6",children:s.map(t=>e.jsx(X,{to:`/productdetail/${t.id}`,children:e.jsx(I,{product:t})},t.id))}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsx("nav",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(t=>e.jsx("button",{className:`px-3 py-1 sm:px-4 sm:py-2 text-sm rounded-md ${t===1?"bg-primary text-primary-foreground":"hover:bg-muted"}`,children:t},t))})})]})]})})};export{be as default};
